import "./SearchWidget.css";
import WidgetTemplate from "../../widgetTemplate/WidgetTemplate.jsx";
import { useEffect, useState } from "react";
import PropTypes from "prop-types";
export function SearchWidget({ id }) {
  const [layout, setLayout] = useState({ x: null, y: null, w: null, h: null });
  const [content, setContent] = useState(null);

  useEffect(() => {
    if (layout.w === 1) {
      setContent(() => {
        return (
          <>
            <svg
              width="22"
              height="22"
              viewBox="0 0 34 34"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M13.3253 0C5.98172 0 0 5.98172 0 13.3253C0 20.6689 5.98172 26.6506 13.3253 26.6506C16.5187 26.6506 19.4514 25.5166 21.7499 23.6342L29.706 31.5903C29.8288 31.7182 29.9759 31.8203 30.1386 31.8906C30.3014 31.961 30.4765 31.9981 30.6538 31.9999C30.8311 32.0017 31.0069 31.9681 31.1711 31.9011C31.3352 31.8341 31.4843 31.735 31.6097 31.6097C31.735 31.4843 31.8341 31.3352 31.9011 31.1711C31.9681 31.0069 32.0017 30.8311 31.9999 30.6538C31.9981 30.4765 31.961 30.3014 31.8906 30.1386C31.8203 29.9759 31.7182 29.8288 31.5903 29.706L23.6342 21.7499C25.5166 19.4514 26.6506 16.5187 26.6506 13.3253C26.6506 5.98172 20.6689 0 13.3253 0ZM13.3253 2.66506C19.2286 2.66506 23.9855 7.42202 23.9855 13.3253C23.9855 19.2286 19.2286 23.9855 13.3253 23.9855C7.42202 23.9855 2.66506 19.2286 2.66506 13.3253C2.66506 7.42202 7.42202 2.66506 13.3253 2.66506Z"
                fill="black"
              />
            </svg>
          </>
        );
      });
    } else if (layout.w === 3) {
      setContent(() => {
        return (
          <div className="search-outer-container search-outer-mini-container">
            <div className="search-input-container search-input-mini-container">
              <svg
                width="22"
                height="22"
                viewBox="0 0 34 34"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M13.3253 0C5.98172 0 0 5.98172 0 13.3253C0 20.6689 5.98172 26.6506 13.3253 26.6506C16.5187 26.6506 19.4514 25.5166 21.7499 23.6342L29.706 31.5903C29.8288 31.7182 29.9759 31.8203 30.1386 31.8906C30.3014 31.961 30.4765 31.9981 30.6538 31.9999C30.8311 32.0017 31.0069 31.9681 31.1711 31.9011C31.3352 31.8341 31.4843 31.735 31.6097 31.6097C31.735 31.4843 31.8341 31.3352 31.9011 31.1711C31.9681 31.0069 32.0017 30.8311 31.9999 30.6538C31.9981 30.4765 31.961 30.3014 31.8906 30.1386C31.8203 29.9759 31.7182 29.8288 31.5903 29.706L23.6342 21.7499C25.5166 19.4514 26.6506 16.5187 26.6506 13.3253C26.6506 5.98172 20.6689 0 13.3253 0ZM13.3253 2.66506C19.2286 2.66506 23.9855 7.42202 23.9855 13.3253C23.9855 19.2286 19.2286 23.9855 13.3253 23.9855C7.42202 23.9855 2.66506 19.2286 2.66506 13.3253C2.66506 7.42202 7.42202 2.66506 13.3253 2.66506Z"
                  fill="black"
                />
              </svg>
              <input
                className="search-input"
                type="text"
                placeholder="Search"
              />
            </div>
          </div>
        );
      });
    } else {
      setContent(() => {
        return (
          <div className="search-outer-container">
            <svg
              width="32"
              height="32"
              viewBox="0 0 32 32"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M13.3253 0C5.98172 0 0 5.98172 0 13.3253C0 20.6689 5.98172 26.6506 13.3253 26.6506C16.5187 26.6506 19.4514 25.5166 21.7499 23.6342L29.706 31.5903C29.8288 31.7182 29.9759 31.8203 30.1386 31.8906C30.3014 31.961 30.4765 31.9981 30.6538 31.9999C30.8311 32.0017 31.0069 31.9681 31.1711 31.9011C31.3352 31.8341 31.4843 31.735 31.6097 31.6097C31.735 31.4843 31.8341 31.3352 31.9011 31.1711C31.9681 31.0069 32.0017 30.8311 31.9999 30.6538C31.9981 30.4765 31.961 30.3014 31.8906 30.1386C31.8203 29.9759 31.7182 29.8288 31.5903 29.706L23.6342 21.7499C25.5166 19.4514 26.6506 16.5187 26.6506 13.3253C26.6506 5.98172 20.6689 0 13.3253 0ZM13.3253 2.66506C19.2286 2.66506 23.9855 7.42202 23.9855 13.3253C23.9855 19.2286 19.2286 23.9855 13.3253 23.9855C7.42202 23.9855 2.66506 19.2286 2.66506 13.3253C2.66506 7.42202 7.42202 2.66506 13.3253 2.66506Z"
                fill="black"
              />
            </svg>
            <div className="search-input-container">
              <input
                className="search-input"
                type="text"
                placeholder="Search"
              />
            </div>
          </div>
        );
      });
    }
  }, [layout.w, layout.h]);
  return (
    <WidgetTemplate
      className="search-widget"
      id={id}
      layout={layout}
      setLayout={setLayout}
    >
      {content}
    </WidgetTemplate>
  );
}

SearchWidget.propTypes = {
  id: PropTypes.string,
};
